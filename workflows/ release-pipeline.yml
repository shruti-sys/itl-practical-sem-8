name: Release Pipeline

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ Checkout Code
      uses: actions/checkout@v3

    - name: ğŸ§± Build
      run: |
        chmod +x build.sh
        ./build.sh

    - name: ğŸ§ª Test
      run: |
        chmod +x test.sh
        ./test.sh

    - name: ğŸ“¦ Zip Code
      run: zip -r release.zip .

    - name: ğŸš€ Deploy (optional)
      if: github.ref == 'refs/heads/main'
      run: |
        chmod +x deploy.sh
        ./deploy.sh
